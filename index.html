<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>PA Watches & Warnings</title>

  <style>
    /* ==============================
       THEME VARIABLES
       ============================== */
    :root{
      color-scheme: light;
      --bg: #ffffff;
      --text: #111111;
      --muted: #555555;
      --border: #333333;
      --borderSoft: #cccccc;
      --tableHeadBg: #f0f0f0;
      --btnBg: #ffffff;
      --btnBgHover: #f3f3f3;
      --btnBorder: #333333;
      --btnBorderSoft: #555555;
      --modalBackdrop: rgba(0,0,0,0.55);
      --modalBg: #ffffff;
      --modalText: #111111;
      --modalMeta: #333333;
      --preBg: #f6f6f6;
      --preBorder: #dddddd;
      --newInfoBg: rgba(59,130,246,.28);
      --newInfoBorder: rgba(59,130,246,.35);
      --watchBg: rgba(255,165,0,.5);
      --warningBg: rgba(220,38,38,.5);
      --shadow: 0 20px 60px rgba(0,0,0,.4);
    }

    :root[data-theme="dark"]{
      color-scheme: dark;
      --bg: #0f1216;
      --text: #e9eef5;
      --muted: #a8b2bf;
      --border: #2b3646;
      --borderSoft: #2b3646;
      --tableHeadBg: #1b2330;
      --btnBg: #171c22;
      --btnBgHover: #232b36;
      --btnBorder: #2b3646;
      --btnBorderSoft: #2b3646;
      --modalBackdrop: rgba(0,0,0,.7);
      --modalBg: #121820;
      --modalText: #e9eef5;
      --modalMeta: #a8b2bf;
      --preBg: #0f141b;
      --preBorder: #2b3646;
      --newInfoBg: rgba(59,130,246,.3);
      --newInfoBorder: rgba(59,130,246,.4);
      --watchBg: rgba(255,165,0,.35);
      --warningBg: rgba(220,38,38,.35);
      --shadow: 0 20px 60px rgba(0,0,0,.65);
    }

    html, body {
      background: var(--bg);
      color: var(--text);
    }

    /* ==============================
       HEADER / TITLE ROW (FIXED)
       ============================== */
    .title-row{
      max-width: 1200px;
      display: flex;
      align-items: center;
      gap: 12px;
      flex-wrap: wrap;
      margin-bottom: 12px; /* âœ… ACTUAL SPACE BELOW HEADER */
    }

    .title-row h1{
      margin: 0;           /* âœ… kills browser top margin */
    }

    .title-row .spacer{
      flex: 1 1 auto;
    }

    /* ==============================
       CONTROLS
       ============================== */
    .controls{
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 6px;
      flex-wrap: wrap;
      max-width: 1200px;
    }

    .nav-toggle{
      font-size: .95em;
    }

    button,
    #refreshBtn,
    #themeToggle{
      padding: 6px 12px;
      border-radius: 6px;
      border: 1px solid var(--btnBorder);
      background: var(--btnBg);
      cursor: pointer;
      font: inherit;
      color: var(--text);
    }

    button:hover{
      background: var(--btnBgHover);
    }

    #refreshBtn:disabled{
      opacity: .6;
      cursor: not-allowed;
    }

    .refresh-label{
      font-size: .95em;
      color: var(--muted);
    }

    /* ==============================
       TABLES
       ============================== */
    table{
      border-collapse: collapse;
      width: 100%;
      max-width: 1200px;
    }

    th, td{
      padding: 6px;
      border: 1px solid var(--border);
      vertical-align: top;
    }

    th{
      background: var(--tableHeadBg);
    }

    .type-cell{
      font-weight: 600;
    }

    .type-watch{ background: var(--watchBg); }
    .type-warning{ background: var(--warningBg); }

    .new-info{
      background: var(--newInfoBg);
      border: 1px solid var(--newInfoBorder);
      border-radius: 6px;
      padding: 0 4px;
      display: inline-block;
    }

    /* ==============================
       MODAL
       ============================== */
    .modal-backdrop{
      position: fixed;
      inset: 0;
      background: var(--modalBackdrop);
      display: none;
      align-items: center;
      justify-content: center;
      padding: 14px;
      z-index: 9999;
    }

    .modal{
      background: var(--modalBg);
      color: var(--modalText);
      width: min(900px,100%);
      max-height: 85vh;
      overflow: auto;
      border-radius: 10px;
      border: 1px solid var(--border);
      padding: 14px 16px 16px;
      box-shadow: var(--shadow);
    }

    .modal pre{
      background: var(--preBg);
      border: 1px solid var(--preBorder);
      color: var(--modalText);
      padding: 10px;
      border-radius: 6px;
      white-space: pre-wrap;
    }
  </style>
</head>

<body>

  <div class="title-row">
    <h1>PA Watches & Warnings</h1>
    <div class="spacer"></div>
    <button id="themeToggle">ðŸŒ™ Dark</button>
  </div>

  <div class="controls">
    Want to see advisories as well?
    <button onclick="location.href='advisories.html'">Click here</button>
  </div>

  <div class="controls">
    Need the Regional Weather Summary?
    <button onclick="location.href='rwsctp.html'">Click here</button>
  </div>

  <div class="controls">
    <span class="refresh-label">Auto-refresh: every 5 minutes</span>
    <button id="refreshBtn">Refresh Now</button>
  </div>

  <p id="status">Loading alertsâ€¦</p>

  <!-- rest of your page unchanged -->

  <script>
    /* ==============================
       THEME TOGGLE
       ============================== */
    (function(){
      const key = "pa_alerts_theme";
      const root = document.documentElement;
      const btn = document.getElementById("themeToggle");

      function apply(theme){
        root.setAttribute("data-theme", theme);
        btn.textContent = theme === "dark" ? "â˜€ï¸ Light" : "ðŸŒ™ Dark";
      }

      const saved = localStorage.getItem(key) || "light";
      apply(saved);

      btn.onclick = () => {
        const next = root.getAttribute("data-theme") === "dark" ? "light" : "dark";
        localStorage.setItem(key, next);
        apply(next);
      };
    })();
  </script>

</body>
</html>
